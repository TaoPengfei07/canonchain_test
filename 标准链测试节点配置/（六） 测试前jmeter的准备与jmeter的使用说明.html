<html>
<head>
  <title>（六） 测试前jmeter的准备与jmeter的使用说明</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600667 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="423"/>
<h1>（六） 测试前jmeter的准备与jmeter的使用说明</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/4/28 14:23</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><span style="font-weight: bold;">（六） 测试前jmeter的准备与jmeter的使用说明</span></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">使用前准备：</span></div><div><br/></div><div><span style="font-weight: bold;">a.    在所有Windows服务器上安装Jmeter</span></div><div><br/></div><div><span style="font-weight: bold;">b.    打开所有Windows服务器上的JmeterServer</span></div><div><br/></div><div><span style="font-weight: bold;">                在jmeter的安装目录下（如D:\java\apache-jmeter-3.2\bin）点击</span><span style="color: rgb(227, 0, 0); font-weight: bold;">jmeter-server.bat</span></div><div><br/></div><div><span style="font-weight: bold;">c.    登录RDO显示的Controller的send机子，打开jmeter</span></div><div><br/></div><div><span style="font-weight: bold;">               如:    点击D:\Java\jmeter\bin\</span><span style="color: rgb(227, 0, 0); font-weight: bold;">jmeter.bat</span></div><div><br/></div><div><span style="font-weight: bold;">d.    在jemter中导入runbat-accountSync -test.jmx脚本（在桌面）</span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">Jmeter脚本组件及参数介绍：</span></div><div><br/></div><div><span style="font-weight: bold;">a.    HTTP default requests :   用来控制协议    更改服务器IP    更改端口号</span></div><div><br/></div><div><span style="font-weight: bold;">b.    user    defined    VAR :   (用户定义变量)</span></div><div><span style="font-weight: bold;">            </span></div><div><span style="font-weight: bold;">        </span><span style="font-weight: bold;">accountCreateNum：    生成交易账户数；    生成的账户文件默认在jmeter安装目录如</span><span style="font-weight: bold;">D:\JAVA\jmeter\bin\examples\下    账户名为accounts.txt</span></div><div><br/></div><div><span style="font-weight: bold;">        sendTradeCounts :        发送交易数</span></div><div><br/></div><div><span style="font-weight: bold;">        </span><span style="font-weight: bold;">autoAssistConfigJsonFile :     Jmeter自动化辅助脚本    默认放在C盘根目录下</span></div><div><br/></div><div><span style="font-weight: bold;">        </span><span style="font-weight: bold;">accountAndDataFileDeletion：    每次节点启动的时候是否删除上次启动所生成的数据；1：不清除；0：清除；如果不是0或1    输入其它内容要么报错要么不清除数据</span></div><div><br/></div><div><span style="font-weight: bold;">c.    </span><span style="font-weight: bold;">setBatRunning :     通过它远程启动</span><span style="color: rgb(227, 0, 0); font-weight: bold;">同一个局域网</span><span style="font-weight: bold;">内的所有Windows服务器上的节点   </span></div><div><br/></div><div><span style="font-weight: bold;">d.    </span><span style="font-weight: bold;">RemoteFirstAccountCreate :    在每个send节点上先生成一个交易账户；所有同一个send节点后续生成的账户金额均由此账户发送</span></div><div><br/></div><div><span style="font-weight: bold;">e.    </span><span style="font-weight: bold;">AccountCreateSync ：    </span><span style="font-weight: bold;">生成交易账户</span></div><div><br/></div><div><span style="font-weight: bold;">f.    </span><span style="font-weight: bold;">send :    发送交易</span></div><div><br/></div><div><span style="font-weight: bold;">g.    </span><span style="font-weight: bold;">tearDown thread group :    远程关闭节点</span></div><div><br/></div><div><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><br/></b></div><div><span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">Jmeter测试中的使用流程：</span></div><div><br/></div><div><span style="font-weight: bold;">a.    启动节点：</span></div><div><br/></div><div><span style="font-weight: bold;">        启动setBatRunning线程组    禁用所有其它线程组 （如图1）  点击远程全部启动 （如图2）</span></div><div><br/></div><div><span style="font-weight: bold;">                  </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556436374(1).jpg" type="image/jpeg" data-filename="1556436374(1).jpg"/>                 </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556436317(1).jpg" type="image/jpeg" data-filename="1556436317(1).jpg"/></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">b.    依次创建每个send节点的第一个账户</span></div><div><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><br/></b></div><div><span style="font-weight: bold;">     </span> <span style="color: rgb(227, 0, 0); font-weight: bold;">  注意 ：    创建一个账户（远程运行一个send节点）之后要等block数稳定才能继续创建下一个send节点的账户</span><span style="color: rgb(227, 0, 0); font-weight: bold;"> </span> <span style="font-weight: bold;">  </span></div><div><span style="font-weight: bold;">        </span></div><div><span style="font-weight: bold;">        启动RemoteFirstAccountCreate    禁用所有其它线程组    （如图1）</span></div><div><br/></div><div><span style="font-weight: bold;">        点击运行 选择远程启动    依次点击(1.点击 2.等block数稳定 3.再点击)远程</span><span style="font-weight: bold; color: rgb(227, 0, 0);">send</span><span style="font-weight: bold;">机子的内网地址     （如图2）</span></div><div><span style="font-weight: bold;">                </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556437292(1).jpg" type="image/jpeg" data-filename="1556437292(1).jpg"/>           </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556437374(1).jpg" type="image/jpeg" data-filename="1556437374(1).jpg"/></span></div><div><br/></div><div><span style="font-weight: bold;">c.    批量创建每个send节点账户</span></div><div><span style="font-weight: bold;"><br/></span></div><div><span style="font-weight: bold;">        启动AccountCreateSync    禁用其它所有线程组（如图1）  再远程启动选择</span> <span style="color: rgb(227, 0, 0); font-weight: bold;">所有send节点</span> <span style="font-weight: bold;">的IP(如图2)</span></div><div><br/></div><div><span style="font-weight: bold;">        其中远程停止（如图2）可以选择停止建账户的某一个send节点    自然相应IP的send节点就会停止创建账户</span></div><div><br/></div><div><span style="font-weight: bold;">        远程全部停止会停止同一局域网内所有send节点    自然也就停止了这个局域网内所有send节点账户的创建</span></div><div><br/></div><div>            <img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556437808(1).jpg" type="image/jpeg" data-filename="1556437808(1).jpg"/>          <img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556437849(1).jpg" type="image/jpeg" data-filename="1556437849(1).jpg"/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">d.    批量发送交易</span></div><div><br/></div><div><span style="font-weight: bold;">        等c操作block稳定之后再批量发送交易</span></div><div><br/></div><div>        <span style="font-weight: bold;">启动send线程组    禁用所有其它线程组（如图1）    再远程启动选择所有send节点IP(如图2)</span></div><div><br/></div><div><span style="font-weight: bold;">        远程停止 可以指定</span><span style="font-weight: bold;">与Controller在同一局域网内的</span><span style="font-weight: bold;">某一个send节点停止发送交易</span></div><div><br/></div><div><span style="font-weight: bold;">        远程全部停止    可以让</span><span style="font-weight: bold;">与Controller在同一局域网内的所有send节点停止发送交易</span></div><div><br/></div><div><span style="font-weight: bold;">        </span></div><div><span style="font-weight: bold;">        </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556438051(1).jpg" type="image/jpeg" data-filename="1556438051(1).jpg"/>        </span><span style="font-weight: bold;">    </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556437849(1) [1].jpg" type="image/jpeg" data-filename="1556437849(1).jpg"/></span></div><div><br/></div><div><span style="font-weight: bold;">e.    关闭节点</span></div><div><br/></div><div><span style="font-weight: bold;">            启用tearDown thread group     禁用所有其它线程组    如图一</span></div><div><br/></div><div><span style="font-weight: bold;">            可以使用远程启动关闭某一个节点</span></div><div><br/></div><div><span style="font-weight: bold;">            或者可以使用远程全部启动关闭所有节点</span></div><div><br/></div><div><span style="font-weight: bold;">            </span><span style="font-weight: bold;"><img src="（六） 测试前jmeter的准备与jmeter的使用说明_files/1556438459(1).jpg" type="image/jpeg" data-filename="1556438459(1).jpg"/></span></div></span>
</div></body></html> 