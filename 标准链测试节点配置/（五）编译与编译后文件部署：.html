<html>
<head>
  <title>（五）编译与编译后文件部署：</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600667 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="389"/>
<h1>（五）编译与编译后文件部署：</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2019/4/28 10:45</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><span style="font-weight: bold;">（五）编译与编译后文件部署：</span></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">    <span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">Linux :</span></span></div><div><span style="font-weight: bold;">       </span></div><div><span style="font-weight: bold;">        编译：</span></div><div>            </div><div>                <span style="font-weight: bold;">在编译服务器下： 北京 ： 39.106.60.108</span></div><div><span style="font-weight: bold;">        </span></div><div><span style="font-weight: bold;">                进入/data/canonchain</span></div><div><br/></div><div><span style="font-weight: bold;">                ./do_build</span></div><div><span style="font-weight: bold;">         </span></div><div><span style="font-weight: bold;">        部署：</span></div><div><span style="font-weight: bold;">                </span></div><div><span style="font-weight: bold;">                无需部署；在用脚本do_test启动节点的时候会自动scp远程服务器的编译文件</span></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">    windows :</span></div><div><br/></div><div><span style="font-weight: bold;">        编译：</span></div><div><span style="font-weight: bold;">                </span><span style="font-weight: bold;"> 在编译服务器下： 上海 ： 101.132.47.126</span></div><div><br/></div><div><span style="font-weight: bold;">                1. 打开git 进入D:\src\witness\canonchain目录 拉取更新代码</span></div><div><br/></div><div><span style="font-weight: bold;">                2. 打开cmake ;</span></div><div><br/></div><div><span style="font-weight: bold;">                        在Ungrouped Entries 下的        Active_network    中选择需要测试的网络</span></div><div><span style="font-weight: bold;">                        </span><span style="font-weight: bold;"><img src="（五）编译与编译后文件部署：_files/1556611503(1).jpg" type="image/jpeg" data-filename="1556611503(1).jpg" width="718"/></span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">                        在Cmake下的    Cmake_build_type    中选择测试版本</span></div><div><span style="font-weight: bold;">                        </span><span style="font-weight: bold;"><img src="（五）编译与编译后文件部署：_files/1556611584(1).jpg" type="image/jpeg" data-filename="1556611584(1).jpg" width="736"/></span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">                        其它需要增加或者移除库文件选择 Add Entry 或者 Remove Entry即可</span></div><div><br/></div><div><span style="font-weight: bold;">                3. 点击Configure;</span></div><div><span style="font-weight: bold;">                    </span><span style="font-weight: bold;"><img src="（五）编译与编译后文件部署：_files/1556611654(1).jpg" type="image/jpeg" data-filename="1556611654(1).jpg"/></span></div><div><br/></div><div><span style="font-weight: bold;">                4. Configure正常之后(如图1)    点击Generate（如图2）</span></div><div><span style="font-weight: bold;">                    </span><span style="font-weight: bold;"><img src="（五）编译与编译后文件部署：_files/1556611762(1).png" type="image/png" data-filename="1556611762(1).png" width="436"/>             </span><b><img src="（五）编译与编译后文件部署：_files/1556611785(1).jpg" type="image/jpeg" data-filename="1556611785(1).jpg" width="339"/></b></div><div><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>                                <b>（图1）</b>                                                                                                                    <b>（图2）</b></span><br/></div><div><span style="font-weight: bold;">                5. Generate正常（如图3）之后点击Open Project（如图4）打开项目</span></div><div><span style="font-weight: bold;"><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span></span><b><img src="（五）编译与编译后文件部署：_files/1556612027(1).jpg" type="image/jpeg" data-filename="1556612027(1).jpg"/><span>    <span>    </span><span>    </span><span>    </span><span>    </span></span></b><b><img src="（五）编译与编译后文件部署：_files/1556612068(1).jpg" type="image/jpeg" data-filename="1556612068(1).jpg"/></b></div><div><b><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    （图3）<span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    </span><span>    （图4）</span></span><br/></b></div><div><span style="font-weight: bold;"><span>    </span><br/></span></div><div><span style="font-weight: bold;">            </span></div><div><span style="font-weight: bold;">                6. 选择与cmake相对应的编译版本</span></div><div><br/></div><div><span style="font-weight: bold;">                    <img src="（五）编译与编译后文件部署：_files/1556421598(1).jpg" type="image/jpeg" data-filename="1556421598(1).jpg"/></span></div><div><span style="font-weight: bold;">                </span></div><div><span style="font-weight: bold;">                7. 打开项目后    右键选择cryptopp    选择Build Dependencies     选择 Build Customizations    选择masm</span></div><div><br/></div><div><span style="font-weight: bold;">                    <img src="（五）编译与编译后文件部署：_files/1556420222(1).jpg" type="image/jpeg" data-filename="1556420222(1).jpg" width="555"/><img src="（五）编译与编译后文件部署：_files/1556420280(1).jpg" type="image/jpeg" data-filename="1556420280(1).jpg"/></span></div><div><span style="font-weight: bold;">            </span></div><div><span style="font-weight: bold;">                8. 打开cryptopp层级目录    右键选择Source Files    选择 Add    选择Existing Items    在标记出来的目录下    选择标记出来的文件</span></div><div><span style="font-weight: bold;">                    <img src="（五）编译与编译后文件部署：_files/1556420626(1).jpg" type="image/jpeg" data-filename="1556420626(1).jpg" width="583"/><img src="（五）编译与编译后文件部署：_files/1556420725(1).jpg" type="image/jpeg" data-filename="1556420725(1).jpg" width="671"/></span></div><div><span style="font-weight: bold;">                </span></div><div><br/></div><div><span style="font-weight: bold;">                9.  右键选择canonchain 选择Build 进行编译即可</span></div><div><br/></div><div><span style="font-weight: bold;">                    <img src="（五）编译与编译后文件部署：_files/1556420916(1).png" type="image/png" data-filename="1556420916(1).png"/></span></div><div><span style="font-weight: bold;">        </span></div><div><br/></div><div><span style="font-weight: bold;">        部署 ：</span></div><div>            </div><div>             <span style="font-weight: bold;">根据选择的编译版本  编译完成后邮件选择canonchain  在相应的路径下获取相应的编译文件</span><span style="font-weight: bold;">   </span></div><div>                </div><div>                <span style="color: rgb(227, 0, 0); font-weight: bold;">如：选择的编译版本是</span><span style="color: rgb(227, 0, 0); font-weight: bold;">RelWithDebInfo（如图2）   则需要进入RelWithDebInfo目录下（如图3）</span></div><div>                </div><div>                <img src="（五）编译与编译后文件部署：_files/1556422066(1).jpg" type="image/jpeg" data-filename="1556422066(1).jpg"/><img src="（五）编译与编译后文件部署：_files/1556421598(1) [1].jpg" type="image/jpeg" data-filename="1556421598(1).jpg"/><img src="（五）编译与编译后文件部署：_files/1556422135(1).jpg" type="image/jpeg" data-filename="1556422135(1).jpg" width="661"/></div><div><br/></div><div><br/></div><div>           <span style="font-weight: bold;">   进入相应的目录后</span><span style="font-weight: bold;">打包压缩    canonchain.exe与canonchain.pdb文件（如果是release版本，则canonchain.pdb不需要进行压缩）    复制到远程机子的canonchain_send或者canonchain_witness目录下    解压缩即可</span> </div><div>               </div><div>                    <img src="（五）编译与编译后文件部署：_files/1556422471(1).jpg" type="image/jpeg" data-filename="1556422471(1).jpg"/></div><div><br/></div><div><br/></div><div>        </div><div><br/></div></span>
</div></body></html> 